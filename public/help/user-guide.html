<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>User Guide - Building Permissions Management</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    body { padding: 24px; }
    h1,h2,h3 { margin-top: 1.25rem; }
    code { background: #f6f8fa; padding: 2px 6px; border-radius: 4px; }
  </style>
</head>
<body>
  <header class="mb-4">
    <h1>Building Permissions Management - User Guide</h1>
    <p class="text-muted">Version 1.0</p>
  </header>

  <section>
    <h2>1. Getting Started</h2>
    <ol>
      <li>Open the application in your browser: <code>http://localhost:5173</code></li>
      <li>Create an Owner account via <strong>Register</strong> or ask Admin to create your account.</li>
      <li>Login with your <strong>email</strong>, <strong>password</strong> and <strong>role</strong>.</li>
    </ol>
  </section>

  <section>
    <h2>2. Roles Overview</h2>
    <ul>
      <li><strong>Owner</strong>: Registers projects, uploads documents, views status, downloads certificate/sticker after decision.</li>
      <li><strong>Consultant</strong>: Uploads designs, views related documents and status.</li>
      <li><strong>Engineer</strong>: Views submissions and status.</li>
      <li><strong>Government Boards</strong>: Reviews applications, views GIS assessments, approves/denies, issues certificate/sticker.</li>
      <li><strong>Admin</strong>: Manages users and overall settings.</li>
    </ul>
  </section>

  <section>
    <h2>3. Owner Workflow</h2>
    <ol>
      <li>Go to <strong>Menu → Apply for Permit</strong>.</li>
      <li>Fill <strong>Project Registration</strong> form: name, address, description, area name.</li>
      <li>Provide <strong>coordinates</strong> (GeoJSON, WKT POLYGON, or lat,lng pairs one per line).</li>
      <li>Submit. The system runs <strong>GIS Assessment</strong> and returns risk summary.</li>
      <li>Use <strong>Owner → Upload Owner Document</strong> to attach required files (ToR/General).</li>
      <li>Track progress via <strong>Menu → View My Applications</strong>.</li>
      <li>After decision, <strong>download Certificate</strong> and (if approved) <strong>Sticker</strong>.</li>
    </ol>
  </section>

  <section>
    <h2>4. Government Boards Workflow</h2>
    <ol>
      <li>Open <strong>Menu → Review Applications</strong>.</li>
      <li>Review project details and <strong>GIS risks</strong> summary.</li>
      <li><strong>Approve</strong> or <strong>Deny</strong> the application.</li>
      <li>Generate and provide <strong>Certificate</strong> and (if approved) <strong>Sticker</strong>.</li>
    </ol>
  </section>

  <section>
    <h2>5. Consultants and Engineers</h2>
    <ul>
      <li><strong>Consultant</strong>: Upload building plans from <strong>Consultant Dashboard</strong>, view ToR documents.</li>
      <li><strong>Engineer</strong>: View documents and status from <strong>Engineer Dashboard</strong>.</li>
    </ul>
  </section>

  <section>
    <h2>6. Admin</h2>
    <ol>
      <li>Open <strong>Menu → Manage Users</strong>.</li>
      <li>Create users for all roles. Use <strong>Auto</strong> to generate passwords and share credentials securely.</li>
      <li>Edit or delete users as needed.</li>
    </ol>
  </section>

  <section>
    <h2>7. Coordinates Formats</h2>
    <ul>
      <li><strong>GeoJSON Polygon</strong>: { "type": "Polygon", "coordinates": [[[lng,lat],[lng,lat],...]] }</li>
      <li><strong>WKT POLYGON</strong>: POLYGON((lng lat, lng lat, ... , lng lat))</li>
      <li><strong>Lat,Lng</strong> pairs: one pair per line, e.g. <code>-6.163,39.202</code></li>
    </ul>
    <p>Ensure the polygon is closed (the first and last coordinate are the same). The system will auto-close if needed.</p>
  </section>

  <section>
    <h2>8. GIS Assessment</h2>
    <p>The system overlays your project area with environmental and social layers (e.g., flood, wetlands, protected areas, settlements) to identify potential risks.</p>
    <ul>
      <li><strong>Risk Type</strong>: category such as Flood, Wetlands, Protected Area, Settlement Proximity.</li>
      <li><strong>Level</strong>: low/medium/high (based on spatial overlap and configured thresholds).</li>
      <li><strong>Impact</strong>: a short explanation (e.g., "Intersects 15% of floodplain").</li>
    </ul>
  </section>

  <section>
    <h2>9. Notifications</h2>
    <p>Owners receive notifications for status changes and decisions. Open your dashboard to view and mark as read.</p>
  </section>

  <section>
    <h2>10. Troubleshooting</h2>
    <ul>
      <li>If login fails, verify role selection and credentials.</li>
      <li>For coordinates errors, validate your GeoJSON/WKT syntax.</li>
      <li>Ask Admin to reset your password if needed.</li>
    </ul>
  </section>

  <footer class="mt-4 text-muted">
    <p>© 2025 Building Permissions Management</p>
  </footer>
</body>
</html>